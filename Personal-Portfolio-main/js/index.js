// --- Translations Configuration ---
const translations = {
  ar: {
    nav_home: "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
    nav_about: "Ø¹Ù†ÙŠ",
    nav_portfolio: "Ø§Ù„Ø£Ø¹Ù…Ø§Ù„",
    nav_testimonials: "Ø§Ù„ØªÙˆØµÙŠØ§Øª",
    nav_contact: "ØªÙˆØ§ØµÙ„",
    mobile_menu_title: "Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©",
    hero_status: "Ù…ØªØ§Ø­ Ù„Ù„Ø´ØºÙ„ Ø§Ù„Ø­Ø±",
    hero_greeting: "Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£Ù†Ø§ ðŸ‘‹",
    hero_desc_1: "Ø¨Ø­ÙˆÙ„ Ø£ÙÙƒØ§Ø±Ùƒ Ù„Ù€",
    hero_desc_highlight: "ØªØ¬Ø§Ø±Ø¨ Ø±Ù‚Ù…ÙŠØ© Ù…Ù…ÙŠØ²Ø©",
    hero_desc_2: ". Ù…ØªØ®ØµØµ ÙÙŠ Ø¨Ù†Ø§Ø¡ Ù…ÙˆØ§Ù‚Ø¹ ÙˆØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙˆÙŠØ¨ Ø­Ø¯ÙŠØ«Ø© Ø¨Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª.",
    hero_explore: "Ø§Ø³ØªÙƒØ´Ù Ø£Ø¹Ù…Ø§Ù„ÙŠ",
    contactMe: "ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ",
    scroll_more: "Ø§ÙƒØªØ´Ù Ø§Ù„Ù…Ø²ÙŠØ¯",
    about_subtitle: "Ù…Ù† Ø£Ù†Ø§",
    about_title_part1: "Ø¹Ù†",
    my_name_full: "Ø§Ø­Ù…Ø¯ Ø§Ù„Ø´ÙŠØ®",
    about_heading_1: "Ø¨Ø­Ø¨ Ø£Ø­ÙˆÙ„ Ø§Ù„Ø£ÙÙƒØ§Ø±",
    about_heading_2: "Ù„ÙˆØ§Ù‚Ø¹ Ø±Ù‚Ù…ÙŠ",
    about_p1: "Ù…Ø·ÙˆØ± ÙˆØ§Ø¬Ù‡Ø§Øª Ø£Ù…Ø§Ù…ÙŠØ© Ø¨Ø®Ø¨Ø±Ø© +8 Ø³Ù†ÙˆØ§Øª ÙÙŠ Ø¨Ù†Ø§Ø¡ ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙˆÙŠØ¨ Ø­Ø¯ÙŠØ«Ø© ÙˆØªØµÙ…ÙŠÙ… ØªØ¬Ø§Ø±Ø¨ Ù…Ø³ØªØ®Ø¯Ù… Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠØ©.",
    about_p2: "Ø¨Ø´ØªØºÙ„ Ø¨Ø£Ø­Ø¯Ø« Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø²ÙŠ React Ùˆ Next.js Ùˆ TypeScript Ø¹Ø´Ø§Ù† Ø£Ù‚Ø¯Ù… Ø­Ù„ÙˆÙ„ Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØªØ¹Ø¯ÙŠ Ø§Ù„ØªÙˆÙ‚Ø¹Ø§Øª.",
    about_edu: "Ù†Ø¸Ù… ÙˆÙ…Ø¹Ù„ÙˆÙ…Ø§Øª",
    about_projects_count: "+50 Ù…Ø´Ø±ÙˆØ¹",
    about_clients_count: "+35 Ø¹Ù…ÙŠÙ„ Ø³Ø¹ÙŠØ¯",
    services_title: "Ù…Ø§ Ø£Ù‚Ø¯Ù…Ù‡",
    service_1: "ØªØ·ÙˆÙŠØ± ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙˆÙŠØ¨ Ù…ØªÙƒØ§Ù…Ù„Ø© Ø¨Ù€ React & Next.js",
    service_2: "ØªØµÙ…ÙŠÙ… ÙˆØ§Ø¬Ù‡Ø§Øª Ù…Ø³ØªØ®Ø¯Ù… Ø­Ø¯ÙŠØ«Ø© ÙˆØ¬Ø°Ø§Ø¨Ø©",
    service_3: "ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ³Ø±Ø¹Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„",
    service_4: "ØªØ·ÙˆÙŠØ± Ù…ÙˆØ§Ù‚Ø¹ Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©",
    skills_subtitle: "Ù…Ø§ Ø£ØªÙ‚Ù†Ù‡",
    skills_title_1: "Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ùˆ",
    skills_title_2: "Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª",
    portfolio_subtitle: "Ø£Ø¹Ù…Ø§Ù„ÙŠ",
    portfolio_title_1: "Ù…Ø¹Ø±Ø¶",
    portfolio_title_2: "Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹",
    filter_all: "Ø§Ù„ÙƒÙ„",
    filter_web: "Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ÙˆÙŠØ¨",
    filter_app: "Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª",
    filter_design: "Ø§Ù„ØªØµÙ…ÙŠÙ…",
    filter_ecommerce: "Ø§Ù„ØªØ¬Ø§Ø±Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©",
    start_project: "Ù„Ù†Ø¨Ø¯Ø£ Ù…Ø´Ø±ÙˆØ¹Ùƒ Ø§Ù„Ù‚Ø§Ø¯Ù…",
    testimonials_subtitle: "Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",
    testimonials_title_1: "Ù…Ø§Ø°Ø§ ÙŠÙ‚ÙˆÙ„",
    testimonials_title_2: "Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",
    contact_subtitle: "ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ",
    contact_title_1: "ÙŠÙ„Ø§ Ù†Ø¨Ø¯Ø£",
    contact_title_2: "Ù…Ø´Ø±ÙˆØ¹Ùƒ",
    contact_desc: "Ø¹Ù†Ø¯Ùƒ ÙÙƒØ±Ø© Ù…Ø´Ø±ÙˆØ¹ØŸ ØªØ¹Ø§Ù„Ù‰ Ù†ØªÙƒÙ„Ù… ÙˆÙ†Ø­ÙˆÙ„Ù‡Ø§ Ù„ÙˆØ§Ù‚Ø¹",
    contact_email_title: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
    contact_email_sub: "Ø¬Ø§Ù‡Ø² Ù„Ù„Ø±Ø¯ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©",
    contact_phone_title: "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ",
    contact_phone_sub: "Ù…ØªØ§Ø­ Ù…Ù† 9 ØµØ¨Ø§Ø­Ø§Ù‹ - 5 Ù…Ø³Ø§Ø¡Ù‹",
    contact_location_title: "Ø§Ù„Ù…ÙˆÙ‚Ø¹",
    contact_location_val: "Ø·Ù†Ø·Ø§ ØŒ Ù…ØµØ±",
    contact_location_sub: "Ù…ØªØ§Ø­ Ù„Ù„Ø¹Ù…Ù„ Ø¹Ù† Ø¨Ø¹Ø¯",
    contact_social: "ØªØ§Ø¨Ø¹Ù†ÙŠ Ø¹Ù„Ù‰",
    form_name: "Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„",
    form_name_ph: "Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„",
    form_email: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
    form_phone: "Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ",
    form_type: "Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹",
    form_type_ph: "Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹",
    form_type_1: "Ù…ÙˆÙ‚Ø¹ ÙˆÙŠØ¨",
    form_type_2: "ØªØ·Ø¨ÙŠÙ‚ ÙˆÙŠØ¨",
    form_type_3: "ØªØ·Ø¨ÙŠÙ‚ Ø¬ÙˆØ§Ù„",
    form_type_4: "ØªØµÙ…ÙŠÙ… UI/UX",
    form_type_5: "Ø§Ø³ØªØ´Ø§Ø±Ø© ØªÙ‚Ù†ÙŠØ©",
    form_budget: "Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©",
    form_budget_ph: "Ø§Ø®ØªØ± Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©",
    form_budget_1: "Ø£Ù‚Ù„ Ù…Ù† 20,000 Ø¬Ù†ÙŠÙ‡",
    form_budget_2: "20,000 - 50,000 Ø¬Ù†ÙŠÙ‡",
    form_budget_3: "50,000 - 100,000 Ø¬Ù†ÙŠÙ‡",
    form_budget_4: "Ø£ÙƒØ«Ø± Ù…Ù† 100,000 Ø¬Ù†ÙŠÙ‡",
    form_details: "ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹",
    form_details_ph: "Ø§Ø­ÙƒÙŠÙ„ÙŠ ØªÙØ§ØµÙŠÙ„ Ù…Ø´Ø±ÙˆØ¹Ùƒ...",
    form_submit: "Ø§Ø¨Ø¹Øª Ø§Ù„Ø±Ø³Ø§Ù„Ø©",
    footer_desc: "Ø£Ø¤Ù…Ù† Ø¨Ø£Ù† Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙÙ†. Ù‡Ø¯ÙÙŠ Ù…Ø´ Ø¨Ø³ ÙƒØªØ§Ø¨Ø© ÙƒÙˆØ¯ØŒ Ø¨Ù„ Ø®Ù„Ù‚ ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø³Ù„Ø³Ø© Ø¨ØªØ³ÙŠØ¨ Ø£Ø«Ø±. Ø¨Ø¯Ù…Ø¬ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¬Ù…Ø§Ù„ÙŠ Ù…Ø¹ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù‚ÙˆÙŠ Ø¹Ø´Ø§Ù† Ø£Ù‚Ø¯Ù… Ù…Ù†ØªØ¬ Ù†Ù‡Ø§Ø¦ÙŠ Ù…ØªÙƒØ§Ù…Ù„.",
    footer_cv_sub: "ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø®Ø¨Ø±Ø§ØªÙŠ",
    footer_cv_title: "Ø­Ù…Ù„ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© (CV)",
    footer_working_on: "Ø£Ø¹Ù…Ù„ Ø­Ø§Ù„ÙŠØ§Ù‹ Ø¹Ù„Ù‰:",
    footer_project: "Ù…Ø´Ø±ÙˆØ¹ SaaS Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙØ±ÙŠÙ‚",
    footer_links: "Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©",
    footer_services: "Ø§Ù„Ø®Ø¯Ù…Ø§Øª",
    service_1_short: "ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆÙŠØ¨",
    service_app_dev: "ØªØ·ÙˆÙŠØ± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª",
    service_uiux: "ØªØµÙ…ÙŠÙ… UI/UX",
    service_consulting: "Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©",
    service_performance: "ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡",
    service_support: "Ø§Ù„ØµÙŠØ§Ù†Ø© ÙˆØ§Ù„Ø¯Ø¹Ù…",
    footer_copyright: "&copy; 2025 Ø§Ø­Ù…Ø¯ Ø§Ù„Ø´ÙŠØ®. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©."
  },
  en: {
    nav_home: "Home",
    nav_about: "About",
    nav_portfolio: "Portfolio",
    nav_testimonials: "Testimonials",
    nav_contact: "Contact",
    mobile_menu_title: "Menu",
    hero_status: "Available for Freelance",
    hero_greeting: "Hello, I'm ðŸ‘‹",
    hero_desc_1: "Turning your ideas into",
    hero_desc_highlight: "Unique Digital Experiences",
    hero_desc_2: ". Specialized in building modern websites and web apps with latest technologies.",
    hero_explore: "Explore My Work",
    contactMe: "Contact Me",
    scroll_more: "Discover More",
    about_subtitle: "About Me",
    about_title_part1: "About",
    my_name_full: "Ahmed El-Sheikh",
    about_heading_1: "I love turning ideas",
    about_heading_2: "into Digital Reality",
    about_p1: "Frontend Developer with 8+ years of experience in building modern web applications and designing exceptional user experiences.",
    about_p2: "I work with the latest technologies like React, Next.js, and TypeScript to deliver high-quality solutions that exceed expectations.",
    about_edu: "Information Systems",
    about_projects_count: "+50 Projects",
    about_clients_count: "+35 Happy Clients",
    services_title: "What I Offer",
    service_1: "Full Web App Development with React & Next.js",
    service_2: "Modern & Attractive UI Design",
    service_3: "Performance Optimization & Speed",
    service_4: "Responsive Mobile-First Development",
    skills_subtitle: "My Expertise",
    skills_title_1: "Skills &",
    skills_title_2: "Technologies",
    portfolio_subtitle: "My Work",
    portfolio_title_1: "Project",
    portfolio_title_2: "Gallery",
    filter_all: "All",
    filter_web: "Websites",
    filter_app: "Apps",
    filter_design: "Design",
    filter_ecommerce: "E-Commerce",
    start_project: "Start Your Next Project",
    testimonials_subtitle: "Testimonials",
    testimonials_title_1: "What Clients",
    testimonials_title_2: "Say",
    contact_subtitle: "Get in Touch",
    contact_title_1: "Let's Start",
    contact_title_2: "Your Project",
    contact_desc: "Have a project idea? Let's talk and turn it into reality.",
    contact_email_title: "Email",
    contact_email_sub: "Ready to reply within 24h",
    contact_phone_title: "Phone",
    contact_phone_sub: "Available 9 AM - 5 PM",
    contact_location_title: "Location",
    contact_location_val: "Tanta, Egypt",
    contact_location_sub: "Available for Remote Work",
    contact_social: "Follow Me",
    form_name: "Full Name",
    form_name_ph: "Enter your full name",
    form_email: "Email Address",
    form_phone: "Phone Number",
    form_type: "Project Type",
    form_type_ph: "Select project type",
    form_type_1: "Website",
    form_type_2: "Web Application",
    form_type_3: "Mobile App",
    form_type_4: "UI/UX Design",
    form_type_5: "Technical Consultation",
    form_budget: "Expected Budget",
    form_budget_ph: "Select budget range",
    form_budget_1: "Less than 20k EGP",
    form_budget_2: "20k - 50k EGP",
    form_budget_3: "50k - 100k EGP",
    form_budget_4: "More than 100k EGP",
    form_details: "Project Details",
    form_details_ph: "Tell me about your project...",
    form_submit: "Send Message",
    footer_desc: "I believe programming is an art. My goal is not just writing code, but creating seamless user experiences that leave an impact. I combine aesthetic design with strong performance to deliver a complete final product.",
    footer_cv_sub: "Know my experience",
    footer_cv_title: "Download CV",
    footer_working_on: "Currently working on:",
    footer_project: "SaaS Team Management Tool",
    footer_links: "Quick Links",
    footer_services: "Services",
    service_1_short: "Web Development",
    service_app_dev: "App Development",
    service_uiux: "UI/UX Design",
    service_consulting: "Tech Consulting",
    service_performance: "Performance Tuning",
    service_support: "Maintenance & Support",
    footer_copyright: "&copy; 2025 Ahmed El-Sheikh. All rights reserved."
  }
};

// --- Embedded Data (Avoids File Protocol CORS Issues) ---

const portfolioData = {
  ar: {
    skills: [
      { id: "1", name: "HTML", percent: 95, icon: "fa-brands fa-html5" },
      { id: "2", name: "CSS", percent: 90, icon: "fa-brands fa-css3-alt" },
      { id: "3", name: "JavaScript", percent: 85, icon: "fa-brands fa-js" },
      { id: "4", name: "Tailwind", percent: 90, icon: "fa-solid fa-wind" },
      { id: "5", name: "React", percent: 80, icon: "fa-brands fa-react" }
    ],
    projects: [
      {
        id: "1",
        title: "Nutriplan-API-CRUD",
        category: "ecommerce",
        image: "Personal-Portfolio-main/imgs/nutriplan.png",
        link: "https://el-sheikh-project.github.io/nutriplan-API-CRUD-ES6-/",
        description: "ØªØ·Ø¨ÙŠÙ‚ ØªØ¬Ø§Ø±Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ù„Ø¨ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØµØ­ÙŠØ© Ù…Ø¹ Ù…ÙŠØ²Ø§Øª CRUD ÙƒØ§Ù…Ù„Ø©.",
        tools: ["HTML", "CSS", "JavaScript", "API"]
      },
      {
        id: "2",
        title: "Trip-Site Jadoo",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/Trip.png",
        link: "https://el-sheikh-project.github.io/Trip-Site-test/",
        description: "Ù…ÙˆÙ‚Ø¹ Ù‡Ø¨ÙˆØ· Ù„Ù„Ø³ÙØ± ÙˆØ§Ù„Ø³ÙŠØ§Ø­Ø© Ù…Ø¹ ØªÙƒØ§Ù…Ù„ Ù„ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©.",
        tools: ["HTML", "Bootstrap", "CSS"]
      },
      {
        id: "3",
        title: "Simple Banking System",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/Bank.png",
        link: "https://elsheikh-system.vercel.app/",
        description: "Ù†Ø¸Ù… Ù…Ø¨Ø³Ø· Ù„Ø­Ø¬Ø² Ø§Ù„Ø§Ø¯ÙˆØ§Ø± Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…ØµØ±ÙÙŠØ©.",
        tools: ["HTML", "CSS", "JS", "Bootstrap", "Telegram API"]
      },
      {
        id: "4",
        title: "prayerTimes Api",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/prayerTimes.png",
        link: "https://el-sheikh-project.github.io/prayerTimes/",
        description: "ØªØ·Ø¨ÙŠÙ‚ ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© Ø¨Ø¯Ù‚Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù….",
        tools: ["HTML", "CSS", "JS", "Bootstrap", "API"]
      },
      {
        id: "5",
        title: "GPA Calculator",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/Gpa Calc.png",
        link: "https://calc-alpha-five.vercel.app/",
        description: "Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ Ù„ØªØ³Ù‡ÙŠÙ„ Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ Ù„Ù„Ø·Ù„Ø§Ø¨.",
        tools: ["HTML", "CSS", "JS", "Bootstrap"]
      },
      {
        id: "6",
        title: "Ù…ÙˆÙ‚Ø¹ Ø¹Ø±Ø¶ Ù†ØªÙŠØ¬Ù‡ Ø§Ù„Ø·Ù„Ø§Ø¨",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/HICS3.png",
        link: "https://el-sheikh-project.github.io/HICS3/",
        description: " Ù…ÙˆÙ‚Ø¹ Ø¨Ø³ÙŠØ· Ù„Ø¹Ø±Ø¶ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ù†Ø¸Ù…Ø© ÙˆØ³Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù….",
        tools: ["HTML", "CSS", "JS", "Bootstrap", "JSON"]
      },
      {
        id: "7",
        title: "Ù…ÙˆÙ‚Ø¹ ØªØ¹Ø±ÙŠÙÙŠ Ø´Ø®ØµÙŠ",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/Portfolio.png",
        link: "https://el-sheikh-project.github.io/Portfolio-Task-HTML-CSS/",
        description: "Ù…ÙˆÙ‚Ø¹ ØªØ¹Ø±ÙŠÙÙŠ Ù„Ø´Ø®ØµÙŠ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ ÙˆØ§Ù„Ø®Ø¨Ø±Ø§Øª Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ©.",
        tools: ["HTML", "CSS", "JS", "Bootstrap"]
      },
      {
        id: "8",
        title: "CRUD-System",
        category: "system",
        image: "Personal-Portfolio-main/imgs/CRUD-System.png",
        link: "https://el-sheikh-project.github.io/CRUD-System-Task-JS/",
        description: "Ù†Ø¸Ø§Ù… CRUD Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… JavaScript Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ§Ù„ØªØ¹Ø¯ÙŠÙ„ ÙˆØ§Ù„Ø­Ø°Ù Ù„Ø¨ÙŠØ§Ù†Ø§Øª JSON.",
        tools: ["HTML", "CSS", "JS", "Bootstrap"]
      },
      {
        id: "9",
        title: "Eagel-Car-Website",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/Eagel-Car-Website.png",
        link: "https://el-sheikh-project.github.io/Eagel-Car-Website/",
        description: "Ù†Ø¸Ø§Ù… CRUD Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… JavaScript Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ§Ù„ØªØ¹Ø¯ÙŠÙ„ ÙˆØ§Ù„Ø­Ø°Ù Ù„Ø¨ÙŠØ§Ù†Ø§Øª JSON.",
        tools: ["HTML", "CSS", "JS", "Bootstrap"]
      },
      {
        id: "10",
        title: "Templaye 1",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/task1.png",
        link: "https://el-sheikh-project.github.io/Templet-Task-1/",
        description: "Ù‚Ø§Ù„Ø¨ Ø¨Ø³ÙŠØ· Ù„ØµÙØ­Ø© Ù‡Ø¨ÙˆØ· Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… HTML Ùˆ CSS Ùˆ Bootstrap.",
        tools: ["HTML", "CSS"]
      }
    ]
  },
  en: {
    skills: [
      { id: "1", name: "HTML", percent: 95, icon: "fa-brands fa-html5" },
      { id: "2", name: "CSS", percent: 90, icon: "fa-brands fa-css3-alt" },
      { id: "3", name: "JavaScript", percent: 85, icon: "fa-brands fa-js" },
      { id: "4", name: "Tailwind", percent: 90, icon: "fa-solid fa-wind" },
      { id: "5", name: "React", percent: 80, icon: "fa-brands fa-react" }
    ],
    projects: [
      {
        id: "1",
        title: "Nutriplan-API-CRUD",
        category: "ecommerce",
        image: "Personal-Portfolio-main/imgs/nutriplan.png",
        link: "https://el-sheikh-project.github.io/nutriplan-API-CRUD-ES6-/",
        description: "E-commerce application for healthy products with full CRUD features.",
        tools: ["HTML", "CSS", "JavaScript", "API"]
      },
      {
        id: "2",
        title: "Trip-Site Jadoo",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/Trip.png",
        link: "https://el-sheikh-project.github.io/Trip-Site-test/",
        description: "Travel and tourism landing page with dynamic user experience integration.",
        tools: ["HTML", "Bootstrap", "CSS"]
      },
      {
        id: "3",
        title: "Simple Banking System",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/Bank.png",
        link: "https://elsheikh-system.vercel.app/",
        description: "Simplified banking system for managing queues and bank accounts.",
        tools: ["HTML", "CSS", "JS", "Bootstrap", "Telegram API"]
      },
      {
        id: "4",
        title: "prayerTimes Api",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/prayerTimes.png",
        link: "https://el-sheikh-project.github.io/prayerTimes/",
        description: "Accurate prayer times application based on user's geographic location.",
        tools: ["HTML", "CSS", "JS", "Bootstrap", "API"]
      },
      {
        id: "5",
        title: "GPA Calculator",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/Gpa Calc.png",
        link: "https://calc-alpha-five.vercel.app/",
        description: "University GPA calculator to help students track their academic performance.",
        tools: ["HTML", "CSS", "JS", "Bootstrap"]
      },
      {
        id: "6",
        title: "Student Results Site",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/HICS3.png",
        link: "https://el-sheikh-project.github.io/HICS3/",
        description: "Simple website to display student results in an organized and easy-to-use way.",
        tools: ["HTML", "CSS", "JS", "Bootstrap", "JSON"]
      },
      {
        id: "7",
        title: "Personal Portfolio",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/Portfolio.png",
        link: "https://el-sheikh-project.github.io/Portfolio-Task-HTML-CSS/",
        description: "My personal portfolio to professionally showcase skills, projects, and experience.",
        tools: ["HTML", "CSS", "JS", "Bootstrap"]
      },
      {
        id: "8",
        title: "CRUD-System",
        category: "system",
        image: "Personal-Portfolio-main/imgs/CRUD-System.png",
        link: "https://el-sheikh-project.github.io/CRUD-System-Task-JS/",
        description: "CRUD system using JavaScript for easy data management (Create, Read, Update, Delete).",
        tools: ["HTML", "CSS", "JS", "Bootstrap"]
      },
      {
        id: "9",
        title: "Eagle-Car-Website",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/Eagel-Car-Website.png",
        link: "https://el-sheikh-project.github.io/Eagel-Car-Website/",
        description: "Car dealership website template with modern design.",
        tools: ["HTML", "CSS", "JS", "Bootstrap"]
      },
      {
        id: "10",
        title: "Template 1",
        category: "landing",
        image: "Personal-Portfolio-main/imgs/task1.png",
        link: "https://el-sheikh-project.github.io/Templet-Task-1/",
        description: "Simple landing page template using HTML, CSS, and Bootstrap.",
        tools: ["HTML", "CSS"]
      }
    ]
  }
};


// --- Initialization ---
let currentLang = localStorage.getItem('language') || 'ar'; // Default to Arabic

document.addEventListener("DOMContentLoaded", () => {
  // Initialize Language
  setLanguage(currentLang);
  initLanguageSwitcher();

  // Other Init
  applyTheme();
  loadPortfolioData(currentLang);
  initInteractions();
});

// --- Language Logic ---

function setLanguage(lang) {
  currentLang = lang;
  localStorage.setItem('language', lang);

  // Update HTML attributes
  document.documentElement.setAttribute('lang', lang);
  document.documentElement.setAttribute('dir', 'rtl'); // Force RTL for both languages ("Right Only" layout)

  // Update Fonts
  if (lang === 'ar') {
    document.body.classList.remove('font-sans'); // Assuming Inter is default sans
    document.body.classList.add('font-cairo');
  } else {
    document.body.classList.remove('font-cairo');
    document.body.classList.add('font-sans'); // Use default Tailwind sans (Inter usually)
  }

  // Apply Translations
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (translations[lang][key]) {
      el.textContent = translations[lang][key];
    }
  });

  document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
    const key = el.getAttribute('data-i18n-placeholder');
    if (translations[lang][key]) {
      el.placeholder = translations[lang][key];
    }
  });

  // Update Toggle Button Text
  const desktopLangBtn = document.getElementById('desktop-lang-toggle');
  const mobileLangBtn = document.getElementById('mobile-lang-toggle');

  if (desktopLangBtn) desktopLangBtn.textContent = lang === 'ar' ? 'EN' : 'AR';
  if (mobileLangBtn) mobileLangBtn.textContent = lang === 'ar' ? 'EN' : 'AR';
}

function initLanguageSwitcher() {
  const toggleLang = () => {
    const newLang = currentLang === 'ar' ? 'en' : 'ar';
    setLanguage(newLang);
    // Reload portfolio data to switch content language
    loadPortfolioData(newLang);
  };

  document.getElementById('desktop-lang-toggle')?.addEventListener('click', toggleLang);
  document.getElementById('mobile-lang-toggle')?.addEventListener('click', toggleLang);
}


// --- Data Loading ---

function loadPortfolioData(lang) {
  // Use embedded data instead of fetch to avoid CORS on local files
  try {
    const data = portfolioData[lang];
    renderSkills(data.skills);
    renderProjects(data.projects);
  } catch (error) {
    console.error('Error loading portfolio data:', error);
  }
}

// --- Dynamic Rendering ---

function applyTheme() {
  const theme = localStorage.getItem("theme");
  if (theme === "light") {
    document.documentElement.classList.remove("dark");
  } else {
    document.documentElement.classList.add("dark");
  }
}

function renderSkills(skills = []) {
  const container = document.getElementById("skills-container");
  if (!container) return;

  container.innerHTML = skills.map(skill => `
        <div class="bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700 hover:-translate-y-1 transition-transform duration-300">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-3">
                    <i class="${skill.icon} text-3xl text-primary"></i>
                    <h3 class="font-bold text-lg">${skill.name}</h3>
                </div>
                <span class="text-primary font-bold">${skill.percent}%</span>
            </div>
            <div class="w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2.5 overflow-hidden">
                <div class="bg-primary h-2.5 rounded-full transition-all duration-1000" style="width: ${skill.percent}%"></div>
            </div>
        </div>
    `).join('');
}

function renderProjects(projects = []) {
  const container = document.getElementById("portfolio-grid");
  if (!container) return;

  // Update Counter
  const countElement = document.getElementById("projects-count");
  if (countElement) countElement.textContent = projects.length;

  container.innerHTML = projects.map(project => `
        <div class="portfolio-item group relative bg-white dark:bg-slate-800 rounded-xl overflow-hidden shadow-sm border border-slate-100 dark:border-slate-700" data-category="${project.category}">
            <div class="relative h-64 overflow-hidden">
                <img src="${project.image}" onerror="this.src='https://placehold.co/600x400?text=Project'" alt="${project.title}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-6">
                    <a href="${project.link}" target="_blank" class="transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300 bg-primary text-white py-2 px-6 rounded-lg font-bold text-center hover:bg-secondary">
                        <span data-i18n="view_project">${currentLang === 'ar' ? 'Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹' : 'View Project'}</span> <i class="fa-solid fa-arrow-up-right-from-square mr-2"></i>
                    </a>
                </div>
            </div>
            <div class="p-6">
                <div class="text-xs font-bold text-primary mb-2 uppercase tracking-wider">${project.category}</div>
                <h3 class="text-xl font-bold mb-2 group-hover:text-primary transition-colors">${project.title}</h3>
                <p class="text-slate-600 dark:text-slate-400 text-sm line-clamp-2 mb-4">
                    ${project.description}
                </p>
                <div class="flex flex-wrap gap-2">
                    ${project.tools.map(tool => `<span class="px-2 py-1 bg-slate-100 dark:bg-slate-700 text-xs rounded text-slate-600 dark:text-slate-300">${tool.trim()}</span>`).join('')}
                </div>
            </div>
        </div>
    `).join('');
}

// --- Interaction Logic ---

function initInteractions() {
  // Scroll Spy & Navbar Active State
  const sections = document.querySelectorAll("section");
  const navLinks = document.querySelectorAll(".nav-links a");

  window.addEventListener("scroll", () => {
    let current = "";
    sections.forEach((section) => {
      const sectionTop = section.offsetTop;
      if (pageYOffset >= sectionTop - 150) {
        current = section.getAttribute("id");
      }
    });

    navLinks.forEach((a) => {
      a.classList.remove("text-primary");
      a.classList.add("text-slate-600", "dark:text-slate-300");
      if (a.getAttribute("href").includes(current)) {
        a.classList.remove("text-slate-600", "dark:text-slate-300");
        a.classList.add("text-primary");
      }
    });

    // Scroll To Top Button
    const scrollBtn = document.getElementById("scroll-to-top");
    if (scrollBtn) {
      if (window.scrollY > 300) {
        scrollBtn.classList.remove("opacity-0", "invisible");
      } else {
        scrollBtn.classList.add("opacity-0", "invisible");
      }
    }
  });

  document.getElementById("scroll-to-top")?.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });

  // Typewriter Effect
  const textElement = document.getElementById("typing-text");
  // const textToType = "Ø§Ø­Ù…Ø¯ Ø§Ù„Ø´ÙŠØ®"; // Replaced by dynamic based on lang if needed, or static name
  // Actually, let's make it bilingual
  const texts = {
    ar: ["Ø§Ø­Ù…Ø¯ Ø§Ù„Ø´ÙŠØ®", "Ù…Ø·ÙˆØ± ÙˆØ§Ø¬Ù‡Ø§Øª Ø£Ù…Ø§Ù…ÙŠØ©", "Ù…ØµÙ…Ù… ÙˆÙŠØ¨"],
    en: ["Ahmed El-Sheikh", "Frontend Developer", "Web Designer"]
  };

  let charIndex = 0;
  let textIndex = 0;
  let isDeleting = false;

  function type() {
    // If language changes dynamically, we need to handle textIndex carefully or just reset.
    // simpler: get current texts, safety check index
    const currentTexts = texts[currentLang];
    if (textIndex >= currentTexts.length) textIndex = 0;

    const currentText = currentTexts[textIndex];

    if (isDeleting) {
      textElement.textContent = currentText.substring(0, charIndex - 1);
      charIndex--;
    } else {
      textElement.textContent = currentText.substring(0, charIndex + 1);
      charIndex++;
    }

    if (!isDeleting && charIndex === currentText.length) {
      isDeleting = true;
      setTimeout(type, 2000);
    } else if (isDeleting && charIndex === 0) {
      isDeleting = false;
      textIndex = (textIndex + 1) % currentTexts.length;
      setTimeout(type, 500);
    } else {
      setTimeout(type, isDeleting ? 100 : 150);
    }
  }

  // Clear text and start typing
  if (textElement) {
    textElement.textContent = "";
    setTimeout(type, 500);
  }

  // Theme Toggle Logic
  const toggleTheme = () => {
    if (document.documentElement.classList.contains("dark")) {
      document.documentElement.classList.remove("dark");
      localStorage.setItem("theme", "light");
    } else {
      document.documentElement.classList.add("dark");
      localStorage.setItem("theme", "dark");
    }
  };

  document.getElementById("theme-toggle-button")?.addEventListener("click", toggleTheme);
  document.getElementById("mobile-theme-toggle")?.addEventListener("click", toggleTheme);

  // Mobile Menu Logic
  const mobileMenuBtn = document.getElementById("mobile-menu-btn");
  const closeMobileMenuBtn = document.getElementById("close-mobile-menu");
  const mobileMenu = document.getElementById("mobile-menu");
  const mobileMenuContent = mobileMenu?.querySelector("div");
  const mobileLinks = document.querySelectorAll(".mobile-link");

  function openMenu() {
    mobileMenu.classList.remove("invisible", "opacity-0");
    mobileMenuContent.classList.remove("translate-x-full");
    document.body.style.overflow = "hidden";
  }

  function closeMenu() {
    mobileMenu.classList.add("invisible", "opacity-0");
    mobileMenuContent.classList.add("translate-x-full");
    document.body.style.overflow = "";
  }

  mobileMenuBtn?.addEventListener("click", openMenu);
  closeMobileMenuBtn?.addEventListener("click", closeMenu);

  mobileMenu?.addEventListener("click", (e) => {
    if (e.target === mobileMenu) closeMenu();
  });

  mobileLinks.forEach(link => {
    link.addEventListener("click", closeMenu);
  });

  // Scroll Reveal Animation
  const observerOptions = {
    threshold: 0.1,
    rootMargin: "0px"
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add("opacity-100", "translate-y-0");
        entry.target.classList.remove("opacity-0", "translate-y-10");
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  const animateElements = document.querySelectorAll("section > div, .portfolio-item, .testimonial-card");
  animateElements.forEach(el => {
    el.classList.add("transition-all", "duration-700", "opacity-0", "translate-y-10");
    observer.observe(el);
  });


  // Portfolio Filtering
  const filterBtns = document.querySelectorAll("#portfolio-filters button");
  filterBtns.forEach(btn => {
    btn.addEventListener("click", () => {
      filterBtns.forEach(b => {
        b.classList.remove("bg-white", "text-black", "shadow-sm");
        b.classList.add("text-slate-600", "hover:bg-slate-50", "dark:text-slate-300", "dark:hover:bg-slate-700");
      });
      btn.classList.remove("text-slate-600", "hover:bg-slate-50", "dark:text-slate-300", "dark:hover:bg-slate-700");
      btn.classList.add("bg-white", "text-black", "shadow-sm");

      const category = btn.getAttribute("data-filter");
      const items = document.querySelectorAll(".portfolio-item");

      items.forEach(item => {
        if (category === "all" || item.getAttribute("data-category") === category) {
          item.style.display = "block";
          setTimeout(() => item.style.opacity = "1", 50);
        } else {
          item.style.opacity = "0";
          setTimeout(() => item.style.display = "none", 300);
        }
      });
    });
  });

  // WhatsApp Contact Submission
  const form = document.querySelector('form[aria-label="Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙˆØ§ØµÙ„"]');
  if (form) {
    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const name = document.getElementById("full-name").value;
      const email = document.getElementById("email").value;
      const projectType = document.querySelector('.custom-select .selected-text').innerText;
      const budget = document.getElementById('budgetselector').innerText;
      const details = document.getElementById("project-details").value;

      const phoneNumber = "201119894122"; // User's WhatsApp number

      const message = `*New Project Inquiry*%0a
*Name:* ${name}%0a
*Email:* ${email}%0a
*Type:* ${projectType}%0a
*Budget:* ${budget}%0a
*Details:* ${details}`;

      const whatsappUrl = `https://wa.me/${phoneNumber}?text=${message}`;

      // Open WhatsApp in new tab
      window.open(whatsappUrl, '_blank');

      // Optional: Reset form
      form.reset();
    });
  }

  // Custom Select Logic (for the form dropdowns)
  const customSelects = document.querySelectorAll(".custom-select-wrapper");
  customSelects.forEach(wrapper => {
    const select = wrapper.querySelector(".custom-select");
    const options = wrapper.querySelector(".custom-options");
    const selectedText = wrapper.querySelector(".selected-text");
    const hiddenInput = wrapper.querySelector("input[type='hidden']"); // If we had one

    select.addEventListener("click", () => {
      options.classList.toggle("hidden");
      select.setAttribute("aria-expanded", !options.classList.contains("hidden"));
    });

    options.querySelectorAll(".custom-option").forEach(option => {
      option.addEventListener("click", () => {
        selectedText.textContent = option.textContent.trim();
        options.classList.add("hidden");
        // Update hidden input if exists
      });
    });

    // Close when clicking outside
    document.addEventListener("click", (e) => {
      if (!wrapper.contains(e.target)) {
        options.classList.add("hidden");
        select.setAttribute("aria-expanded", "false");
      }
    });
  });
}
